<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        body{
            height: 12000px;
        }
        .a1{
            z-index: -1;
            position: fixed;
            top: 0;left: -100vw;
            width: 100vw;height: 100vh;
            background-color: blue;
            display: flex;
            justify-content: space-around;
            align-items: center;
            transform: scale(1);
        }
        .a1>img{
            width: 30%;
            border-radius: 30%;
            box-shadow: 0 0 100px #444444;
        }
        .a1>div>h1{
            font-size: 80px;
            text-align: center;
        }
        .a1>div{
            width: 30%;
            flex-shrink: 0;
        }
        .l{
            position: fixed;
            top: 0;left: 100vw;
            width: 100vw;
            height: 100vh;
        }
        #navigator{
            z-index: 999;
            position: fixed;
            top: -3rem;left: 0;
            backdrop-filter: blur(2rem);
            width: 100vw;
            height: 3rem;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            align-items: center;
        }
        #navigator::before{
            z-index: 3;
            content: '';
            position: absolute;
            top: 0;right: 0;left: 0;bottom: 0;
            background-color: white;
            opacity: 0.3;
        }
        .nagivator_item{
            z-index: 4;
            line-height: 3rem;
            padding: 0 1rem;
            transition: all 0.3s;
            cursor: none;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            font-family: "等线";
            font-size: large;
        }
        .nagivator_item:hover{
            cursor: pointer;
            background: darkgray;
        }
        #mainText{
            top: 0;right: 0;left: 0;bottom: 0;
            position: fixed;
            z-index: 9;
            text-align: center;
            line-height: 100vh;
            font-size: 150px;
            transform: scale(6);
            word-break: keep-all;
            opacity: 1;
            display: none;
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            font-family: "黑体";
        }
        #mainCont1{
            width: 70%;
            margin: 0 auto;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 0 60px #AAAAAA;
            height: 2000px;
        }
        #about{
            position: fixed;
            top: 0;left: 0;right: 0;bottom: 0;
            background-color: white;
            transition: all 0.3s;
            z-index: 7;
        }
    </style>
</head>
<body>
    <div class="a1" style="background-color:#cadefc">
        <div>
            <h1>水晶虾饺</h1>
        </div>
        <img src="./images/sjj.jpg" alt="">
    </div>
    <div class="a1 l" style="background-color:#fcbad3">
        <img src="./images/cf.jpg" alt="">
        <div>
            <h1>肠粉</h1>
        </div>
    </div>
    <div class="a1" style="background-color:#88304e">
        <div>
            <h1>叉烧包</h1>
        </div>
        <img src="./images/csb.jpg" alt="">
    </div>
    <div class="a1 l" style="background-color:rgb(110, 228, 198)">
        <img src="./images/lls.jpg" alt="">
        <div>
            <h1>榴莲酥</h1>
        </div>
    </div>
    <div class="a1" style="background-color:#ffc8c8"></div>
    <div class="a1 l" style="background-color:#bbded6"></div>
    <div id="navigator">
        <div style="margin-left: 2rem;" class="nagivator_item" onclick="window.location.href='#'">首页</div>
        <div class="nagivator_item">订购</div>
        <div class="nagivator_item">介绍</div>
        <div class="nagivator_item" onclick="aboutDis()">关于</div>
    </div>
    <div id="mainText">早茶</div>
    <div id="mainCont1"></div>

    <div id="about" style="opacity: 0">

    </div>

    <script src="./animation.js"></script>
    <script>
        function aboutDis(){
            if($("about").style.opacity==1){
                $("about").style.opacity=0
                return;
            }
            $("about").style.opacity=1
        }
    </script>
    <script>
        //获取对象
        function $(e){return document.getElementById(e)}
        function $c(e){return document.getElementsByClassName(e)}
        var a1 = $c("a1")
        var nav = $("navigator")
        var mainText = $("mainText")
        var mainCont1 = $("mainCont1")
        var about = $("about")
    </script>
    <script>
        //Init
        mainCont1.style.marginTop = (7200 + vh) + "px"
    </script>
    <script>
        //回调函数
        function a1left(e,r,b,o){
            for(var i = 0;i<e.length;i+=2){
                e[i].style.left = o.get(o,scrollTop-i*1000)[0]+"px"
            }
        }
        function a1lright(e,r,b,o){
            for(var i = 1;i<e.length;i+=2){
                e[i].style.left = o.get(o,scrollTop-(i-1)*1000)[0]+"px"
            }
        }
        function navigator_pos(e,r){
            nav.style.top = r[0]
        }
        function mainTextFontSize(e,r){
            mainText.style.display = r[0]
            mainText.style.transform = "scale("+r[1]+")"
            mainText.style.opacity = r[2]
        }
    </script>
    <script>
        //创建动画
        var p1 = create_LINEAR_ANIMATION(
            callback=a1left,pre="",suf="",
            keyframs=[{r:0,y:[-vw-30]},{r:400,y:[0]}]
        )
        var p2 = create_LINEAR_ANIMATION(
            callback=a1lright,pre="",suf="",
            keyframs=[{r:1200,y:[vw+30]},{r:1800,y:[0]}]
        )
        var nav_top = create_LINEAR_ANIMATION(
            callback=navigator_pos,pre="",suf="px",
            keyframs=[{r:0,y:[-3*_rem]},{r:5200,y:[-3*_rem]},{r:6800,y:[0]}]
        )
        var mainTextFontSizeAni = create_LINEAR_ANIMATION(
            callback=mainTextFontSize,pre="",suf="",
            keyframs=[{r:0,y:["none",100,1]},{r:4500,y:["block",100,0]},{r:6200,y:["block",1,1]},{r:6800,y:["none",1,0]}]
        )
        p1.element = a1
        p2.element = a1
        mainTextFontSizeAni.element = mainText
        nav_top.element = nav

        scroll_KEYFRAME_anis.push(p1)
        scroll_KEYFRAME_anis.push(p2)
        scroll_KEYFRAME_anis.push(nav_top)
        scroll_KEYFRAME_anis.push(mainTextFontSizeAni)
    </script>
</body>
</html>